= Koneta

ちょっとした機能を追加するプラグイン

現在提供できるもの
1. 「作成しました」などのお知らせに閉じるボタンを追加。
2. プロジェクトメニューに「検索」へのリンクを追加するだけのモジュールを追加。
3. アプリケーションメニューに次の機能へのリンクを追加。活動、チケット、ガントチャート、カレンダー、作業時間の記録、ニュース、検索
4. チケット一覧の担当者欄に、ひとつ前の担当者も表示。表示が変わるだけで、ソートやフィルタは現在の担当者で行われます。
5. プロジェクトの設定画面で、トラッカーとカスタムフィールドの関連をワークフローのサマリのような形式で表示。
6. チケット一覧のフィルタのテキスト、長いテキスト、日付系の項目に「なし」「すべて」の比較条件を追加。
7. エラー発生時に白背景の画面ではなく、Redmineのデザインの上でエラーを表示するように変更。WebrickとPassengerで404と500について動作確認済み。REST APIなどは無保障。

各機能とも、管理 => プラグイン => Redmine Koneta 設定から
有効無効を設定できます。
インストール、アップデート後に機能が働かない場合は、上記設定画面を確認してください。

！注意！
5つ目の機能において、少し乱暴な手法を使っているため、他のプラグインと合わさると不具合が発生する可能性が高いです。
具体的には、プロジェクトの設定画面でプロジェクト設定のフォームとトラッカー情報、カスタムフィールド情報に手を加えています。
同じページでフォームに項目を追加したり、トラッカーやカスタムフィールドの情報を使うプラグインがある場合、うまく動かないかもしれません。
その場合は、対象の機能をオフにするか、プラグインの読み込み順を変更してください。
このファイルのアンインストール手順の次の項に、プラグイン読み込み順の変更方法について簡単に記載しています。

Redmine1.3.2、CentOS6.2、MySQL5.1、Passenger、Firefox3.6の条件でみ動作確認しています。


== インストール

1. RAILS_ROOT/vendor/pluginsに配置する。

2. Redmineを再起動する。


== アンインストール

1. RAILS_ROOT/vendor/pluginsから削除する。

2. Redmineを再起動する。


== プラグイン読み込み順序の変更方法

プラグインは標準の場合はディレクトリ名ABC順に読み込まれ
実行時の優先度（呼び出し順）もそれに習います。
そのため、複数プラグインで同じ機能を使用、改造している場合、
読み込み順序を変更する必要があります。

config/additional_environment.rbがなければ作成し、
config.plugins = [プラグイン1, プラグイン2, ..., :all]
の形式で記述する。

記述例：
config.plugins = [:acts_as_activity_provider, :acts_as_attachable, :acts_as_customizable, :acts_as_event, :acts_as_list, :acts_as_searchable, :acts_as_tree, :acts_as_versioned, :acts_as_watchable, :awesome_nested_set, :classic_pagination, :engines, :gravatar, :open_id_authentication, :prepend_engine_views, redmine_koneta, :all]

はじめからvendor/plugins配下にあるプラグインも各必要があるようです。
順番はこれで正しいかはよく分からないですが、
とりあえずは最初からあるディレクトリの後にプラグインを書けばいいようです。

プラグインがうまく動くように順序を変更してみてください。


== 更新履歴

=== version 0.0.7

エラー発生時に白背景の画面ではなく、Redmineのデザイン上でエラーを表示する機能を追加。

 
=== version 0.0.6

チケット一覧のフィルタの、テキスト、長いテキスト、日付系項目の比較条件に「なし」「すべて」を追加。


=== version 0.0.5

プロジェクトの設定画面ですべてのトラッカーかすべてのカスタムフィールドのチェックを外せなくなっていたので修正。


=== version 0.0.4

プロジェクトの設定画面で、トラッカーとカスタムフィールドの関連をワークフローのサマリのような形式で表示する機能を追加。

=== version 0.0.3

チケット一覧の担当者欄に、ひとつ前の担当者も表示する機能を追加。


=== version 0.0.2

アプリケーションメニューへ各機能へのショートカットを追加。

=== version 0.0.1

検索ボタン追加。
お知らせを閉じるボタン追加。
